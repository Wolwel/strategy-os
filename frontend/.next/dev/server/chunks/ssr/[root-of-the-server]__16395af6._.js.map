{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 73, "column": 0}, "map": {"version":3,"sources":["file:///D:/strategy-os/frontend/components/chat/chat-message.tsx"],"sourcesContent":["\"use client\";\n\nimport { User } from \"lucide-react\";\nimport ReactMarkdown from \"react-markdown\";\nimport remarkGfm from \"remark-gfm\";\n\ninterface ChatMessageProps {\n  role: \"user\" | \"assistant\";\n  content: string;\n  isLoading?: boolean;\n  showFinalReport?: boolean;\n}\n\nexport function ChatMessage({ role, content, isLoading, showFinalReport }: ChatMessageProps) {\n  if (role === \"user\") {\n    return (\n      <div className=\"flex flex-row-reverse gap-3\">\n        <div className=\"flex h-10 w-10 shrink-0 items-center justify-center rounded-full bg-white text-black\">\n          <User className=\"h-5 w-5\" />\n        </div>\n        <div className=\"max-w-[80%] rounded-2xl rounded-br-md bg-white px-4 py-3 text-sm text-black\">\n          {content}\n        </div>\n      </div>\n    );\n  }\n\n  // –Ø–∫—â–æ —Ü–µ –ø—Ä–æ–º—ñ–∂–Ω–µ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è (–Ω–µ —Ñ—ñ–Ω–∞–ª—å–Ω–∏–π –∑–≤—ñ—Ç) - –Ω–µ –ø–æ–∫–∞–∑—É—î–º–æ\n  if (!showFinalReport) {\n    return null;\n  }\n\n  return (\n    <div className=\"flex gap-3\">\n      <div className=\"flex h-10 w-10 shrink-0 items-center justify-center rounded-full bg-neutral-800 text-neutral-300\">\n        <svg width=\"20\" height=\"20\" viewBox=\"0 0 128 128\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\" aria-label=\"Strategy OS logo\">\n          <g stroke=\"currentColor\" strokeWidth=\"5\" strokeLinecap=\"round\" strokeLinejoin=\"round\">\n            <path d=\"M64 22v24\"/>\n            <path d=\"M64 46L32 64\"/>\n            <path d=\"M64 46L96 64\"/>\n            <path d=\"M32 64L32 92\"/>\n            <path d=\"M96 64L96 92\"/>\n            <path d=\"M64 46L64 92\" opacity=\"0.55\"/>\n            <path d=\"M32 92L50 106\"/>\n            <path d=\"M96 92L78 106\"/>\n          </g>\n          <g fill=\"currentColor\">\n            <circle cx=\"64\" cy=\"22\" r=\"7\"/>\n            <circle cx=\"64\" cy=\"46\" r=\"6\"/>\n            <circle cx=\"32\" cy=\"64\" r=\"6\"/>\n            <circle cx=\"96\" cy=\"64\" r=\"6\"/>\n            <circle cx=\"50\" cy=\"106\" r=\"6\"/>\n            <circle cx=\"78\" cy=\"106\" r=\"6\"/>\n          </g>\n        </svg>\n      </div>\n      <div className=\"w-full rounded-2xl rounded-bl-md border border-neutral-800 bg-neutral-900 px-5 py-4\">\n        <div className=\"prose prose-invert prose-sm max-w-none\">\n          <ReactMarkdown\n            remarkPlugins={[remarkGfm]}\n            components={{\n              h1: ({ children }) => <h1 className=\"text-xl font-bold text-white mb-3 mt-4 first:mt-0\">{children}</h1>,\n              h2: ({ children }) => <h2 className=\"text-lg font-semibold text-white mb-2 mt-4\">{children}</h2>,\n              h3: ({ children }) => <h3 className=\"text-base font-semibold text-neutral-200 mb-2 mt-3\">{children}</h3>,\n              p: ({ children }) => <p className=\"text-sm text-neutral-300 mb-2 leading-relaxed\">{children}</p>,\n              ul: ({ children }) => <ul className=\"list-disc list-inside text-sm text-neutral-300 mb-3 space-y-1\">{children}</ul>,\n              ol: ({ children }) => <ol className=\"list-decimal list-inside text-sm text-neutral-300 mb-3 space-y-1\">{children}</ol>,\n              li: ({ children }) => <li className=\"text-sm text-neutral-300\">{children}</li>,\n              strong: ({ children }) => <strong className=\"font-semibold text-white\">{children}</strong>,\n              em: ({ children }) => <em className=\"italic text-neutral-400\">{children}</em>,\n              code: ({ children }) => <code className=\"bg-neutral-800 px-1.5 py-0.5 rounded text-xs text-green-400\">{children}</code>,\n              hr: () => <hr className=\"border-neutral-700 my-4\" />,\n              table: ({ children }) => <div className=\"overflow-x-auto my-3\"><table className=\"w-full border-collapse text-sm border border-neutral-700\">{children}</table></div>,\n              thead: ({ children }) => <thead className=\"bg-neutral-800\">{children}</thead>,\n              tbody: ({ children }) => <tbody className=\"divide-y divide-neutral-700\">{children}</tbody>,\n              tr: ({ children }) => <tr className=\"border-b border-neutral-700 hover:bg-neutral-800/50\">{children}</tr>,\n              th: ({ children }) => <th className=\"p-2 text-left text-neutral-200 font-semibold text-xs border border-neutral-700\">{children}</th>,\n              td: ({ children }) => <td className=\"p-2 text-neutral-300 text-xs border border-neutral-700\">{children}</td>,\n            }}\n          >\n            {content}\n          </ReactMarkdown>\n        </div>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 459, "column": 0}, "map": {"version":3,"sources":["file:///D:/strategy-os/frontend/components/chat/agent-card.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState } from \"react\";\nimport { ChevronDown, ChevronUp, Loader2, LucideIcon } from \"lucide-react\";\nimport ReactMarkdown from \"react-markdown\";\nimport remarkGfm from \"remark-gfm\";\n\ninterface AgentCardProps {\n  name: string;\n  icon: LucideIcon;\n  preview: string;\n  content: string;\n  status: \"pending\" | \"running\" | \"done\";\n}\n\n// –ü—Ä–∏–±–∏—Ä–∞—î–º–æ —Å–º–∞–π–ª–∏–∫–∏ –∑ –Ω–∞–∑–≤–∏ –∞–≥–µ–Ω—Ç–∞\nfunction cleanAgentName(name: string): string {\n  return name.replace(/[üöÄüî¨üö¶üìà‚öîÔ∏èüß©üí∞‚öñÔ∏èüîÆüèÅüòàüìÑ‚ùì]/g, \"\").trim();\n}\n\n// –ì–µ–Ω–µ—Ä—É—î–º–æ –ø—Ä–µ–≤'—é –∑ –∫–æ–Ω—Ç–µ–Ω—Ç—É\nfunction generatePreview(content: string, fallback: string): string {\n  if (!content || content.length === 0) return fallback;\n  // –ü—Ä–∏–±–∏—Ä–∞—î–º–æ markdown —Å–∏–º–≤–æ–ª–∏ —ñ –±–µ—Ä–µ–º–æ –ø–µ—Ä—à—ñ 100 —Å–∏–º–≤–æ–ª—ñ–≤\n  const cleanText = content\n    .replace(/^#+\\s*/gm, '')\n    .replace(/\\*\\*/g, '')\n    .replace(/\\|/g, '')\n    .replace(/-{3,}/g, '')\n    .replace(/\\n+/g, ' ')\n    .trim();\n  return cleanText.length > 80 ? cleanText.slice(0, 80) + \"...\" : cleanText;\n}\n\nexport function AgentCard({ name, icon: Icon, preview, content, status }: AgentCardProps) {\n  const [isExpanded, setIsExpanded] = useState(false);\n\n  const isRunning = status === \"running\";\n  const cleanName = cleanAgentName(name);\n  // –ü–æ–∫–∞–∑—É—î–º–æ –ø—Ä–µ–≤'—é –∑ –∫–æ–Ω—Ç–µ–Ω—Ç—É —è–∫ —Ç—ñ–ª—å–∫–∏ –≤—ñ–Ω –∑'—è–≤–∏–≤—Å—è\n  const displayPreview = content && content.length > 0 ? generatePreview(content, preview) : preview;\n  const hasContent = Boolean(content && content.length > 0);\n\n  const handleClick = () => {\n    console.log(\"AgentCard clicked:\", { name, hasContent, content: content?.slice(0, 100) });\n    if (hasContent) {\n      setIsExpanded(!isExpanded);\n    }\n  };\n\n  return (\n    <div\n      className={`\n        rounded-lg border transition-all duration-300\n        ${isRunning\n          ? \"animate-pulse border-neutral-700 bg-neutral-900\"\n          : \"border-neutral-800 bg-neutral-900/50 hover:border-neutral-700\"\n        }\n      `}\n    >\n      {/* Header */}\n      <div\n        onClick={handleClick}\n        role=\"button\"\n        tabIndex={0}\n        onKeyDown={(e) => e.key === 'Enter' && handleClick()}\n        className={`flex w-full items-start gap-3 p-3 text-left ${hasContent ? 'cursor-pointer hover:bg-neutral-800/30' : 'cursor-default'}`}\n      >\n        {/* Icon container */}\n        <div\n          className={`\n            flex h-8 w-8 shrink-0 items-center justify-center rounded-lg text-sm\n            ${isRunning ? \"bg-neutral-700\" : \"bg-neutral-800\"}\n          `}\n        >\n          {isRunning ? (\n            <Loader2 className=\"h-4 w-4 animate-spin text-neutral-400\" />\n          ) : (\n            <Icon className=\"h-4 w-4 text-neutral-400\" />\n          )}\n        </div>\n\n        {/* Content */}\n        <div className=\"min-w-0 flex-1\">\n          <div className=\"flex items-center gap-2\">\n            <span className=\"text-sm font-medium text-neutral-100\">{cleanName}</span>\n            {isRunning && (\n              <span className=\"text-xs text-neutral-500\">–ø—Ä–∞—Ü—é—î...</span>\n            )}\n            {status === \"done\" && (\n              <span className=\"text-xs text-green-500\">‚úì</span>\n            )}\n          </div>\n          <p className=\"mt-1 truncate text-xs text-neutral-500\">{displayPreview}</p>\n        </div>\n\n        {/* Expand icon */}\n        {hasContent && (\n          isExpanded ? (\n            <ChevronUp className=\"h-4 w-4 shrink-0 text-neutral-500\" />\n          ) : (\n            <ChevronDown className=\"h-4 w-4 shrink-0 text-neutral-500\" />\n          )\n        )}\n      </div>\n\n      {/* Expanded content with Markdown */}\n      {isExpanded && content && (\n        <div className=\"px-3 pb-3\">\n          <div className=\"rounded-lg border border-neutral-800 bg-neutral-950 p-3 max-h-96 overflow-y-auto custom-scrollbar\">\n            <div className=\"prose prose-invert prose-sm max-w-none\">\n              <ReactMarkdown\n                remarkPlugins={[remarkGfm]}\n                components={{\n                  h1: ({ children }) => <h1 className=\"text-lg font-bold text-white mb-2\">{children}</h1>,\n                  h2: ({ children }) => <h2 className=\"text-base font-semibold text-white mb-2\">{children}</h2>,\n                  h3: ({ children }) => <h3 className=\"text-sm font-semibold text-neutral-200 mb-1\">{children}</h3>,\n                  p: ({ children }) => <p className=\"text-sm text-neutral-300 mb-2\">{children}</p>,\n                  ul: ({ children }) => <ul className=\"list-disc list-inside text-sm text-neutral-300 mb-2\">{children}</ul>,\n                  ol: ({ children }) => <ol className=\"list-decimal list-inside text-sm text-neutral-300 mb-2\">{children}</ol>,\n                  li: ({ children }) => <li className=\"text-sm text-neutral-300\">{children}</li>,\n                  strong: ({ children }) => <strong className=\"font-semibold text-white\">{children}</strong>,\n                  em: ({ children }) => <em className=\"italic text-neutral-400\">{children}</em>,\n                  code: ({ children }) => <code className=\"bg-neutral-800 px-1 py-0.5 rounded text-xs text-green-400\">{children}</code>,\n                  table: ({ children }) => <div className=\"overflow-x-auto my-3\"><table className=\"w-full border-collapse text-xs border border-neutral-700\">{children}</table></div>,\n                  thead: ({ children }) => <thead className=\"bg-neutral-800\">{children}</thead>,\n                  tbody: ({ children }) => <tbody className=\"divide-y divide-neutral-700\">{children}</tbody>,\n                  tr: ({ children }) => <tr className=\"border-b border-neutral-700 hover:bg-neutral-800/50\">{children}</tr>,\n                  th: ({ children }) => <th className=\"p-2 text-left text-neutral-200 font-semibold border border-neutral-700\">{children}</th>,\n                  td: ({ children }) => <td className=\"p-2 text-neutral-300 border border-neutral-700\">{children}</td>,\n                }}\n              >\n                {content}\n              </ReactMarkdown>\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 788, "column": 0}, "map": {"version":3,"sources":["file:///D:/strategy-os/frontend/components/chat/welcome-screen.tsx"],"sourcesContent":["\"use client\";\n\nimport { Store, ShieldAlert, HandCoins, TriangleAlert } from \"lucide-react\";\n\ninterface WelcomeScreenProps {\n  onExampleClick: (text: string) => void;\n}\n\nconst examples = [\n  \"–ó–∞–ø—É—Å—Ç–∏ SaaS –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü—ñ—ó —Ñ—ñ–Ω–∞–Ω—Å–æ–≤–∏—Ö –∑–≤—ñ—Ç—ñ–≤ –º–∞–ª–æ–≥–æ –±—ñ–∑–Ω–µ—Å—É –≤ –£–∫—Ä–∞—ó–Ω—ñ\",\n  \"–°—Ç–≤–æ—Ä–∏ –º–∞—Ä–∫–µ—Ç–ø–ª–µ–π—Å –¥–ª—è –æ—Ä–µ–Ω–¥–∏ —Å–ø–æ—Ä—Ç–∏–≤–Ω–æ–≥–æ –æ–±–ª–∞–¥–Ω–∞–Ω–Ω—è\",\n  \"–î–æ–¥–∞—Ç–æ–∫ –¥–ª—è –º–µ–Ω—Ç–æ—Ä—Å—Ç–≤–∞ –≤ IT-—ñ–Ω–¥—É—Å—Ç—Ä—ñ—ó\",\n  \"–ü–ª–∞—Ç—Ñ–æ—Ä–º–∞ –¥–ª—è –æ–Ω–ª–∞–π–Ω-–∫—É—Ä—Å—ñ–≤ –∑ —É–∫—Ä–∞—ó–Ω—Å—å–∫–æ—ó –º–æ–≤–∏ –¥–ª—è —ñ–Ω–æ–∑–µ–º—Ü—ñ–≤\",\n];\n\nconst features = [\n  { icon: Store, label: \"–†–∏–Ω–æ–∫\" },\n  { icon: ShieldAlert, label: \"–ö–æ–Ω–∫—É—Ä–µ–Ω—Ç–∏\" },\n  { icon: HandCoins, label: \"–§—ñ–Ω–∞–Ω—Å–∏\" },\n  { icon: TriangleAlert, label: \"–†–∏–∑–∏–∫–∏\" },\n];\n\nexport function WelcomeScreen({ onExampleClick }: WelcomeScreenProps) {\n  return (\n    <div className=\"flex h-full flex-col items-center justify-center text-center\">\n      {/* Floating icon */}\n      <div className=\"mb-6\">\n        <svg width=\"60\" height=\"60\" viewBox=\"0 0 128 128\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\" aria-label=\"Strategy OS logo\">\n          <g stroke=\"currentColor\" strokeWidth=\"5\" strokeLinecap=\"round\" strokeLinejoin=\"round\">\n            <path d=\"M64 22v24\"/>\n            <path d=\"M64 46L32 64\"/>\n            <path d=\"M64 46L96 64\"/>\n            <path d=\"M32 64L32 92\"/>\n            <path d=\"M96 64L96 92\"/>\n            <path d=\"M64 46L64 92\" opacity=\"0.55\"/>\n            <path d=\"M32 92L50 106\"/>\n            <path d=\"M96 92L78 106\"/>\n          </g>\n          <g fill=\"currentColor\">\n            <circle cx=\"64\" cy=\"22\" r=\"7\"/>\n            <circle cx=\"64\" cy=\"46\" r=\"6\"/>\n            <circle cx=\"32\" cy=\"64\" r=\"6\"/>\n            <circle cx=\"96\" cy=\"64\" r=\"6\"/>\n            <circle cx=\"50\" cy=\"106\" r=\"6\"/>\n            <circle cx=\"78\" cy=\"106\" r=\"6\"/>\n          </g>\n        </svg>\n      </div>\n\n      <h2 className=\"mb-2 text-2xl font-semibold text-white\">\n        –í—ñ—Ç–∞—é –≤ Strategy OS\n      </h2>\n\n      <p className=\"mb-8 max-w-md text-neutral-500\">\n        –û–ø–∏—à—ñ—Ç—å –≤–∞—à—É –±—ñ–∑–Ω–µ—Å-—ñ–¥–µ—é, —ñ —Å–∏—Å—Ç–µ–º–∞ –∑ 13 AI-–∞–≥–µ–Ω—Ç—ñ–≤ –ø—Ä–æ–∞–Ω–∞–ª—ñ–∑—É—î —Ä–∏–Ω–æ–∫,\n        –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç—ñ–≤, —Ñ—ñ–Ω–∞–Ω—Å–∏ —Ç–∞ —Ä–∏–∑–∏–∫–∏.\n      </p>\n\n      {/* Feature chips */}\n      <div className=\"mb-10 grid grid-cols-2 gap-3 md:grid-cols-4\">\n        {features.map((feature) => (\n          <div\n            key={feature.label}\n            className=\"flex items-center gap-2 rounded-lg border border-neutral-800 bg-neutral-900 px-4 py-2 text-sm text-neutral-400\"\n          >\n            <feature.icon className=\"h-4 w-4\" />\n            <span>{feature.label}</span>\n          </div>\n        ))}\n      </div>\n\n      {/* Example prompts */}\n      <div className=\"w-full max-w-2xl\">\n        <p className=\"mb-3 text-xs text-neutral-600\">–°–ø—Ä–æ–±—É–π—Ç–µ –ø—Ä–∏–∫–ª–∞–¥–∏:</p>\n        <div className=\"grid gap-2 sm:grid-cols-2\">\n          {examples.map((example, idx) => (\n            <button\n              key={idx}\n              onClick={() => onExampleClick(example)}\n              className=\"rounded-lg border border-neutral-800 bg-neutral-900/50 px-4 py-3 text-left text-sm text-neutral-400 transition-all duration-200 hover:border-neutral-700 hover:bg-neutral-900 hover:text-neutral-200\"\n            >\n              {example}\n            </button>\n          ))}\n        </div>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AAAA;AAAA;AAAA;AAFA;;;AAQA,MAAM,WAAW;IACf;IACA;IACA;IACA;CACD;AAED,MAAM,WAAW;IACf;QAAE,MAAM,6MAAK;QAAE,OAAO;IAAQ;IAC9B;QAAE,MAAM,mOAAW;QAAE,OAAO;IAAa;IACzC;QAAE,MAAM,6NAAS;QAAE,OAAO;IAAU;IACpC;QAAE,MAAM,yOAAa;QAAE,OAAO;IAAS;CACxC;AAEM,SAAS,cAAc,EAAE,cAAc,EAAsB;IAClE,qBACE,8OAAC;QAAI,WAAU;;0BAEb,8OAAC;gBAAI,WAAU;0BACb,cAAA,8OAAC;oBAAI,OAAM;oBAAK,QAAO;oBAAK,SAAQ;oBAAc,MAAK;oBAAO,OAAM;oBAA6B,cAAW;;sCAC1G,8OAAC;4BAAE,QAAO;4BAAe,aAAY;4BAAI,eAAc;4BAAQ,gBAAe;;8CAC5E,8OAAC;oCAAK,GAAE;;;;;;8CACR,8OAAC;oCAAK,GAAE;;;;;;8CACR,8OAAC;oCAAK,GAAE;;;;;;8CACR,8OAAC;oCAAK,GAAE;;;;;;8CACR,8OAAC;oCAAK,GAAE;;;;;;8CACR,8OAAC;oCAAK,GAAE;oCAAe,SAAQ;;;;;;8CAC/B,8OAAC;oCAAK,GAAE;;;;;;8CACR,8OAAC;oCAAK,GAAE;;;;;;;;;;;;sCAEV,8OAAC;4BAAE,MAAK;;8CACN,8OAAC;oCAAO,IAAG;oCAAK,IAAG;oCAAK,GAAE;;;;;;8CAC1B,8OAAC;oCAAO,IAAG;oCAAK,IAAG;oCAAK,GAAE;;;;;;8CAC1B,8OAAC;oCAAO,IAAG;oCAAK,IAAG;oCAAK,GAAE;;;;;;8CAC1B,8OAAC;oCAAO,IAAG;oCAAK,IAAG;oCAAK,GAAE;;;;;;8CAC1B,8OAAC;oCAAO,IAAG;oCAAK,IAAG;oCAAM,GAAE;;;;;;8CAC3B,8OAAC;oCAAO,IAAG;oCAAK,IAAG;oCAAM,GAAE;;;;;;;;;;;;;;;;;;;;;;;0BAKjC,8OAAC;gBAAG,WAAU;0BAAyC;;;;;;0BAIvD,8OAAC;gBAAE,WAAU;0BAAiC;;;;;;0BAM9C,8OAAC;gBAAI,WAAU;0BACZ,SAAS,GAAG,CAAC,CAAC,wBACb,8OAAC;wBAEC,WAAU;;0CAEV,8OAAC,QAAQ,IAAI;gCAAC,WAAU;;;;;;0CACxB,8OAAC;0CAAM,QAAQ,KAAK;;;;;;;uBAJf,QAAQ,KAAK;;;;;;;;;;0BAUxB,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBAAE,WAAU;kCAAgC;;;;;;kCAC7C,8OAAC;wBAAI,WAAU;kCACZ,SAAS,GAAG,CAAC,CAAC,SAAS,oBACtB,8OAAC;gCAEC,SAAS,IAAM,eAAe;gCAC9B,WAAU;0CAET;+BAJI;;;;;;;;;;;;;;;;;;;;;;AAWnB"}},
    {"offset": {"line": 1071, "column": 0}, "map": {"version":3,"sources":["file:///D:/strategy-os/frontend/app/chat/page.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState, useRef, useEffect } from \"react\";\nimport { \n  Send, \n  User, \n  Loader2,\n  MessageCircleWarning,\n  Store,\n  ShieldAlert,\n  HandCoins,\n  TriangleAlert,\n  LucideIcon\n} from \"lucide-react\";\nimport { ChatMessage } from \"@/components/chat/chat-message\";\nimport { AgentCard } from \"@/components/chat/agent-card\";\nimport { WelcomeScreen } from \"@/components/chat/welcome-screen\";\n\ninterface Message {\n  id: string;\n  role: \"user\" | \"assistant\";\n  content: string;\n  agentResults?: AgentResult[];\n}\n\ninterface AgentResult {\n  name: string;\n  icon: LucideIcon;\n  preview: string;\n  content: string;\n  status: \"pending\" | \"running\" | \"done\";\n}\n\nexport default function ChatPage() {\n  const [messages, setMessages] = useState<Message[]>([]);\n  const [input, setInput] = useState(\"\");\n  const [isLoading, setIsLoading] = useState(false);\n  const [hasAskedClarification, setHasAskedClarification] = useState(false);\n  const messagesEndRef = useRef<HTMLDivElement>(null);\n\n  const scrollToBottom = () => {\n    messagesEndRef.current?.scrollIntoView({ behavior: \"smooth\" });\n  };\n\n  useEffect(() => {\n    scrollToBottom();\n  }, [messages]);\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    if (!input.trim() || isLoading) return;\n\n    const userMessage: Message = {\n      id: Date.now().toString(),\n      role: \"user\",\n      content: input.trim(),\n    };\n\n    setMessages((prev) => [...prev, userMessage]);\n    const query = input.trim();\n    setInput(\"\");\n    setIsLoading(true);\n\n    // –ú–∞–ø–ø—ñ–Ω–≥ –∞–≥–µ–Ω—Ç—ñ–≤ –¥–æ —ñ–∫–æ–Ω–æ–∫\n    const agentIcons: Record<string, LucideIcon> = {\n      clarifier: MessageCircleWarning,\n      framing: MessageCircleWarning,\n      hypothesis: MessageCircleWarning,\n      routing: MessageCircleWarning,\n      market: Store,\n      competitors: ShieldAlert,\n      frameworks: MessageCircleWarning,\n      finance: HandCoins,\n      risks: TriangleAlert,\n      scenarios: MessageCircleWarning,\n      synthesis: MessageCircleWarning,\n      advocate: ShieldAlert,\n      output: MessageCircleWarning,\n    };\n\n    // –°—Ç–≤–æ—Ä—é—î–º–æ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –∞—Å–∏—Å—Ç–µ–Ω—Ç–∞\n    const assistantMessageId = (Date.now() + 1).toString();\n    const assistantMessage: Message = {\n      id: assistantMessageId,\n      role: \"assistant\",\n      content: \"–ê–Ω–∞–ª—ñ–∑—É—é –≤–∞—à—É –±—ñ–∑–Ω–µ—Å-—ñ–¥–µ—é...\",\n      agentResults: [],\n    };\n    setMessages((prev) => [...prev, assistantMessage]);\n\n    try {\n      // SSE streaming –≤—ñ–¥ –±–µ–∫–µ–Ω–¥—É\n      // –Ø–∫—â–æ –≤–∂–µ –±—É–ª–æ —É—Ç–æ—á–Ω–µ–Ω–Ω—è - –ø—Ä–æ–ø—É—Å–∫–∞—î–º–æ Clarifier\n      const response = await fetch(\"http://127.0.0.1:8000/api/strategy/stream\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n        body: JSON.stringify({ \n          query,\n          skip_clarification: hasAskedClarification \n        }),\n      });\n\n      if (!response.ok) {\n        throw new Error(`HTTP error! status: ${response.status}`);\n      }\n\n      const reader = response.body?.getReader();\n      const decoder = new TextDecoder();\n\n      if (!reader) {\n        throw new Error(\"No reader available\");\n      }\n\n      while (true) {\n        const { done, value } = await reader.read();\n        if (done) break;\n\n        const chunk = decoder.decode(value);\n        const lines = chunk.split(\"\\n\");\n\n        for (const line of lines) {\n          if (line.startsWith(\"data: \")) {\n            try {\n              const data = JSON.parse(line.slice(6));\n              \n              // –§—ñ–Ω–∞–ª—å–Ω–∞ –≤—ñ–¥–ø–æ–≤—ñ–¥—å\n              if (data.agent === \"complete\") {\n                // –Ø–∫—â–æ –±—É–ª–∏ —É—Ç–æ—á–Ω–µ–Ω–Ω—è - –∑–∞–ø–∞–º'—è—Ç–æ–≤—É—î–º–æ\n                if (data.status === \"needs_clarification\") {\n                  setHasAskedClarification(true);\n                }\n                setMessages((prev) =>\n                  prev.map((msg) =>\n                    msg.id === assistantMessageId\n                      ? {\n                          ...msg,\n                          content: data.markdown || \"–ê–Ω–∞–ª—ñ–∑ –∑–∞–≤–µ—Ä—à–µ–Ω–æ\",\n                          agentResults: msg.agentResults?.map((a) => ({\n                            ...a,\n                            status: \"done\" as const,\n                          })),\n                        }\n                      : msg\n                  )\n                );\n                continue;\n              }\n\n              // –û–Ω–æ–≤–ª–µ–Ω–Ω—è –ø—Ä–æ–≥—Ä–µ—Å—É –∞–≥–µ–Ω—Ç–∞\n              if (data.agent && data.status) {\n                setMessages((prev) =>\n                  prev.map((msg) => {\n                    if (msg.id !== assistantMessageId) return msg;\n\n                    const existingAgent = msg.agentResults?.find(\n                      (a) => a.name === data.name\n                    );\n\n                    if (existingAgent) {\n                      // –û–Ω–æ–≤–ª—é—î–º–æ —ñ—Å–Ω—É—é—á–æ–≥–æ –∞–≥–µ–Ω—Ç–∞\n                      return {\n                        ...msg,\n                        agentResults: msg.agentResults?.map((a) =>\n                          a.name === data.name\n                            ? {\n                                ...a,\n                                status: data.status as \"pending\" | \"running\" | \"done\",\n                                preview: data.preview || a.preview,\n                                content: data.content || a.content,\n                              }\n                            : a\n                        ),\n                      };\n                    } else {\n                      // –î–æ–¥–∞—î–º–æ –Ω–æ–≤–æ–≥–æ –∞–≥–µ–Ω—Ç–∞\n                      return {\n                        ...msg,\n                        agentResults: [\n                          ...(msg.agentResults || []),\n                          {\n                            name: data.name || data.agent,\n                            icon: agentIcons[data.agent] || MessageCircleWarning,\n                            preview: data.preview || \"–û–±—Ä–æ–±–∫–∞...\",\n                            content: data.content || \"\",\n                            status: data.status as \"pending\" | \"running\" | \"done\",\n                          },\n                        ],\n                      };\n                    }\n                  })\n                );\n              }\n            } catch {\n              // –ü—Ä–æ–ø—É—Å–∫–∞—î–º–æ –Ω–µ–∫–æ—Ä–µ–∫—Ç–Ω–∏–π JSON\n            }\n          }\n        }\n      }\n    } catch (error) {\n      console.error(\"Error:\", error);\n      setMessages((prev) =>\n        prev.map((msg) =>\n          msg.id === assistantMessageId\n            ? {\n                ...msg,\n                content: \"‚ùå –ü–æ–º–∏–ª–∫–∞ –∑'—î–¥–Ω–∞–Ω–Ω—è –∑ —Å–µ—Ä–≤–µ—Ä–æ–º. –ü–µ—Ä–µ–∫–æ–Ω–∞–π—Ç–µ—Å—è, —â–æ –±–µ–∫–µ–Ω–¥ –∑–∞–ø—É—â–µ–Ω–æ –Ω–∞ http://127.0.0.1:8000\",\n              }\n            : msg\n        )\n      );\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  return (\n    <div className=\"flex h-screen flex-col bg-black\">\n      {/* Header */}\n      <header className=\"flex items-center justify-between border-b border-neutral-800 px-6 py-4\">\n        <div className=\"flex items-center gap-3\">\n          <a href=\"/\" className=\"flex items-center gap-3\">\n            <div className=\"flex h-10 w-10 items-center justify-center rounded-xl bg-white text-black\">\n              <svg width=\"20\" height=\"20\" viewBox=\"0 0 128 128\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\" aria-label=\"Strategy OS logo\">\n                <g stroke=\"currentColor\" strokeWidth=\"5\" strokeLinecap=\"round\" strokeLinejoin=\"round\">\n                  <path d=\"M64 22v24\"/>\n                  <path d=\"M64 46L32 64\"/>\n                  <path d=\"M64 46L96 64\"/>\n                  <path d=\"M32 64L32 92\"/>\n                  <path d=\"M96 64L96 92\"/>\n                  <path d=\"M64 46L64 92\" opacity=\"0.55\"/>\n                  <path d=\"M32 92L50 106\"/>\n                  <path d=\"M96 92L78 106\"/>\n                </g>\n                <g fill=\"currentColor\">\n                  <circle cx=\"64\" cy=\"22\" r=\"7\"/>\n                  <circle cx=\"64\" cy=\"46\" r=\"6\"/>\n                  <circle cx=\"32\" cy=\"64\" r=\"6\"/>\n                  <circle cx=\"96\" cy=\"64\" r=\"6\"/>\n                  <circle cx=\"50\" cy=\"106\" r=\"6\"/>\n                  <circle cx=\"78\" cy=\"106\" r=\"6\"/>\n                </g>\n              </svg>\n            </div>\n            <div>\n              <h1 className=\"text-sm font-semibold text-white\">Strategy OS</h1>\n              <p className=\"text-xs text-neutral-500\">AI-powered business analysis</p>\n            </div>\n          </a>\n        </div>\n\n        <div className=\"flex items-center gap-2\">\n          <div className=\"h-2 w-2 animate-pulse rounded-full bg-green-500\" />\n          <span className=\"text-xs text-neutral-500\">13 –∞–≥–µ–Ω—Ç—ñ–≤ –æ–Ω–ª–∞–π–Ω</span>\n        </div>\n      </header>\n\n      {/* Chat Area */}\n      <div className=\"flex-1 overflow-y-auto p-6\">\n        {messages.length === 0 ? (\n          <WelcomeScreen onExampleClick={(text: string) => setInput(text)} />\n        ) : (\n          <div className=\"mx-auto max-w-3xl space-y-6\">\n            {messages.map((message) => {\n              const isComplete = message.agentResults?.every(a => a.status === \"done\") ?? false;\n              const hasFinalReport = message.content && message.content !== \"–ê–Ω–∞–ª—ñ–∑—É—é –≤–∞—à—É –±—ñ–∑–Ω–µ—Å-—ñ–¥–µ—é...\" && message.role === \"assistant\";\n              \n              return (\n                <div key={message.id}>\n                  {/* –ü–æ–∫–∞–∑—É—î–º–æ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ */}\n                  {message.role === \"user\" && (\n                    <ChatMessage\n                      role={message.role}\n                      content={message.content}\n                    />\n                  )}\n                  \n                  {/* –°–ø–æ—á–∞—Ç–∫—É –ø–æ–∫–∞–∑—É—î–º–æ –∫–∞—Ä—Ç–æ—á–∫–∏ –∞–≥–µ–Ω—Ç—ñ–≤ */}\n                  {message.agentResults && message.agentResults.length > 0 && (\n                    <div className=\"mt-4 space-y-2\">\n                      {message.agentResults.map((agent, idx) => (\n                        <AgentCard\n                          key={idx}\n                          name={agent.name}\n                          icon={agent.icon}\n                          preview={agent.preview}\n                          content={agent.content}\n                          status={agent.status}\n                        />\n                      ))}\n                    </div>\n                  )}\n                  \n                  {/* –§—ñ–Ω–∞–ª—å–Ω–∏–π –∑–≤—ñ—Ç –ø–æ–∫–∞–∑—É—î–º–æ –≤ –∫—ñ–Ω—Ü—ñ */}\n                  {message.role === \"assistant\" && hasFinalReport && isComplete && (\n                    <div className=\"mt-6\">\n                      <ChatMessage\n                        role=\"assistant\"\n                        content={message.content}\n                        showFinalReport={true}\n                      />\n                    </div>\n                  )}\n                </div>\n              );\n            })}\n            {isLoading && (\n              <div className=\"flex gap-3\">\n                <div className=\"flex h-10 w-10 items-center justify-center rounded-full bg-neutral-800 text-neutral-300\">\n                  <svg width=\"20\" height=\"20\" viewBox=\"0 0 128 128\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\" aria-label=\"Strategy OS logo\">\n                    <g stroke=\"currentColor\" strokeWidth=\"5\" strokeLinecap=\"round\" strokeLinejoin=\"round\">\n                      <path d=\"M64 22v24\"/>\n                      <path d=\"M64 46L32 64\"/>\n                      <path d=\"M64 46L96 64\"/>\n                      <path d=\"M32 64L32 92\"/>\n                      <path d=\"M96 64L96 92\"/>\n                      <path d=\"M64 46L64 92\" opacity=\"0.55\"/>\n                      <path d=\"M32 92L50 106\"/>\n                      <path d=\"M96 92L78 106\"/>\n                    </g>\n                    <g fill=\"currentColor\">\n                      <circle cx=\"64\" cy=\"22\" r=\"7\"/>\n                      <circle cx=\"64\" cy=\"46\" r=\"6\"/>\n                      <circle cx=\"32\" cy=\"64\" r=\"6\"/>\n                      <circle cx=\"96\" cy=\"64\" r=\"6\"/>\n                      <circle cx=\"50\" cy=\"106\" r=\"6\"/>\n                      <circle cx=\"78\" cy=\"106\" r=\"6\"/>\n                    </g>\n                  </svg>\n                </div>\n                <div className=\"flex items-center gap-2 rounded-2xl rounded-bl-md border border-neutral-800 bg-neutral-900 px-4 py-3 text-neutral-400\">\n                  <Loader2 className=\"h-4 w-4 animate-spin\" />\n                  <span className=\"text-sm\">–ì–µ–Ω–µ—Ä—É—é –≤—ñ–¥–ø–æ–≤—ñ–¥—å...</span>\n                </div>\n              </div>\n            )}\n            <div ref={messagesEndRef} />\n          </div>\n        )}\n      </div>\n\n      {/* Input Area */}\n      <div className=\"border-t border-neutral-800 bg-gradient-to-t from-neutral-950 to-transparent p-6\">\n        <form onSubmit={handleSubmit} className=\"mx-auto max-w-3xl\">\n          <div className=\"group relative\">\n            {/* Main input container */}\n            <div className=\"relative overflow-hidden rounded-3xl border border-neutral-700 bg-neutral-900/50 backdrop-blur-sm transition-all duration-300 hover:border-neutral-600 focus-within:border-white/20 focus-within:bg-neutral-900/80\">\n              {/* Gradient border effect on focus */}\n              <div className=\"absolute inset-0 rounded-3xl bg-gradient-to-r from-blue-500/0 via-blue-500/0 to-purple-500/0 opacity-0 transition-opacity duration-300 group-focus-within:opacity-20\" />\n              \n              <div className=\"relative flex items-end gap-3 p-4\">\n                {/* Textarea */}\n                <textarea\n                  value={input}\n                  onChange={(e) => setInput(e.target.value)}\n                  onKeyDown={(e) => {\n                    if (e.key === \"Enter\" && !e.shiftKey) {\n                      e.preventDefault();\n                      handleSubmit(e as any);\n                    }\n                  }}\n                  placeholder=\"–û–ø–∏—à—ñ—Ç—å –≤–∞—à—É –±—ñ–∑–Ω–µ—Å-—ñ–¥–µ—é... (Shift+Enter –¥–ª—è –Ω–æ–≤–æ–≥–æ —Ä—è–¥–∫–∞)\"\n                  disabled={isLoading}\n                  className=\"flex-1 resize-none bg-transparent text-base text-white placeholder-neutral-500 focus:outline-none disabled:opacity-50 max-h-48\"\n                  rows={1}\n                  style={{\n                    minHeight: \"24px\",\n                    height: input ? `${Math.min(input.split(\"\\n\").length * 24, 192)}px` : \"24px\",\n                  }}\n                />\n                \n                {/* Send button */}\n                <button\n                  type=\"submit\"\n                  disabled={!input.trim() || isLoading}\n                  className=\"flex-shrink-0 flex h-10 w-10 items-center justify-center rounded-full bg-white text-black transition-all duration-200 hover:scale-110 hover:bg-neutral-100 disabled:cursor-not-allowed disabled:opacity-30 disabled:hover:scale-100\"\n                >\n                  <Send className=\"h-5 w-5\" />\n                </button>\n              </div>\n            </div>\n            \n            {/* Helper text */}\n            <p className=\"mt-2 text-xs text-neutral-500 px-2\">\n              –ù–∞—Ç–∏—Å–Ω—ñ—Ç—å Enter –¥–ª—è –≤—ñ–¥–ø—Ä–∞–≤–∫–∏, Shift+Enter –¥–ª—è –Ω–æ–≤–æ–≥–æ —Ä—è–¥–∫–∞\n            </p>\n          </div>\n        </form>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}}]
}